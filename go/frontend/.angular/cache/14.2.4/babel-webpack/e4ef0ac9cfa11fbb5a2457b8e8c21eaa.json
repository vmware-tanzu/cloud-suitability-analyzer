{"ast":null,"code":"import { property as e } from \"./property.js\";\nimport { GlobalStateService as t } from \"../services/global.service.js\";\nimport { I18nService as i } from \"../services/i18n.service.js\";\nimport { mergeObjects as s, isNilOrEmpty as n, objectNaiveDeepEquals as r } from \"../utils/identity.js\";\nimport { LogService as c } from \"../services/log.service.js\";\n\nfunction o() {\n  return (n, r) => {\n    const c = n.connectedCallback,\n          o = n.disconnectedCallback;\n    n.connectedCallback = function () {\n      n.__i18nSub = t.stateUpdates.subscribe(e => {\n        \"i18nRegistry\" === e.key && this.requestUpdate(r);\n      }), c && c.apply(this);\n    }, n.disconnectedCallback = function () {\n      n.__i18nSub.unsubscribe(), o && o.apply(this);\n    };\n    const d = {\n      get() {\n        const e = s(i.keys[this.__i18nKey], this.__i18n || {});\n        return i.hydrate(e, this);\n      },\n\n      set(e) {\n        const t = u(e, this),\n              s = a(i.findKey(t) || \"\", this.__i18nKey, t, this.__i18n);\n        void 0 !== s.key && (this.__i18nKey = s.key + \"\"), void 0 !== s.values && (this.__i18n = { ...s.values\n        }), !0 === s.update && this.requestUpdate(), this.requestUpdate(r);\n      },\n\n      enumerable: !0,\n      configurable: !0\n    };\n    return void 0 !== r ? function (t, i, s) {\n      const n = Object.defineProperty(i, s, t);\n      return e({\n        type: Object,\n        attribute: \"cds-i18n\"\n      })(n, s);\n    }(d, n, r) : function (t, i) {\n      const s = {\n        kind: \"method\",\n        placement: \"prototype\",\n        key: i.key,\n        descriptor: t\n      };\n      return e({\n        type: Object\n      })(s);\n    }(d, n);\n  };\n}\n\nfunction u(e, t) {\n  if (n(e)) {\n    let e = {};\n\n    if (t.hasAttribute(\"cds-i18n\")) {\n      const i = t.getAttribute(\"cds-i18n\") + \"\";\n      if (n(i)) e = {};else try {\n        e = JSON.parse(i);\n      } catch {\n        c.warn(\"Clarity i18n: Invalid JSON passed to cds-i18n\"), e = {};\n      }\n    }\n\n    return e;\n  }\n\n  return e;\n}\n\nfunction a(e, t, i, s) {\n  return n(e) ? r(i, s) ? {\n    update: !1\n  } : {\n    update: !0,\n    values: i\n  } : e === t ? {\n    update: !1,\n    values: {}\n  } : {\n    update: !0,\n    key: e,\n    values: {}\n  };\n}\n\nexport { a as getI18nUpdateStrategy, u as getI18nValues, o as i18n }; //# sourceMappingURL=i18n.js.map","map":null,"metadata":{},"sourceType":"module"}